\documentclass[11pt]{memoir}
% Fontes, línguas, unicode
\usepackage{graphicx}
\RequirePackage{csquotes}
\RequirePackage{fontspec}
\RequirePackage{emoji}
\RequirePackage{mathpazo}
\RequirePackage{hyphenat}
\RequirePackage[main=german, bidi=basic]{babel}
\newfontfamily\cartafont{EBGaramond08-Regular.ttf}[
	Extension=.otf,
	ItalicFont=EBGaramond08-Italic,
	BoldFont=EBGaramondSC08-Regular,
]
\newfontfamily\fleurfont{EBGaramond12-AllSC.otf}[
	Extension=.otf,
	ItalicFont=EBGaramond08-Italic,
	BoldFont=EBGaramondSC08-Regular,
]
\newfontfamily\secondarygreek{Gentium Plus}
\newfontfamily\thirdiarygreek{IFAO-Grec-Unicode}
\newfontfamily\quaternarygreek{Pecita}
\newfontfamily\epichoricfont{Brill-Epichoric}[Scale=1.2]
\newcommand{\fleurl}{{\fleurfont{}}}
\newcommand{\fleurr}{{\fleurfont{}}}
\newcommand{\epigraphic}[1]{{\epichoricfont{}#1}}
\defaultfontfeatures{Renderer=Harfbuzz}

\babelfont[german]{rm}[Script=Latin]{Gentium Book Plus}
\babelfont[german]{sf}{Noto Sans}
\babelfont[german]{tt}[Scale=0.8]{Mononoki Nerd Font}
\babeltags{de=german}
%
\babelfont[english]{rm}[Script=Latin]{Gentium Book Plus}
\babelfont[english]{sf}{Noto Sans}
\babelfont[english]{tt}[Scale=0.8]{Mononoki Nerd Font}

\babelprovide[import, onchar=ids fonts letters]{ancientgreek}
\babelfont[ancientgreek]{rm}[BoldFont=Gentium Book Plus Bold]{Brill}
\babeltags{grc = ancientgreek}

\babelprovide[import, onchar=ids fonts letters]{russian}
\babelfont[russian]{rm}{Brill}

\babelprovide[import]{hebrew}
\babelfont[hebrew]{rm}[Scale=0.8]{Ezra SIL}

\babelprovide[]{ipa}
\babelfont[ipa]{rm}{Gentium Plus}
\babeltags{ipa = ipa}

\babelprovide[]{syntax}
\babelfont[syntax]{rm}[Scale=0.85]{Noto Sans}
\babeltags{syntax = syntax}

\babelprovide{hittite}
\babelfont[hittite]{rm}{UllikummiA}

\babelprovide[import,onchar=ids fonts]{sanskrit}
\babelfont[sanskrit]{rm}[Scale=1]{AdishilaLetterpressHeavy}
\babelfont[sanskrit]{sf}[Scale=1]{AdishilaLetterpressHeavy}

\babelprovide[import, onchar=ids fonts letters]{armenian}
\babelfont[armenian]{rm}[Scale=0.8]{Noto Serif Armenian}

\babelprovide[]{linearb}
\babelfont[linearb]{rm}[]{Noto Sans Linear B}

\RequirePackage{microtype}
\usepackage{longtable}
\usepackage{lipsum}

\let\printindex\undefined
\usepackage{bibliocaiera}
\RequirePackage{xcolor}
\definecolor{green}{RGB}{16, 87, 87} % rgb(16,87,87)

\RequirePackage[pdfusetitle]{hyperref}
\hypersetup{%
	colorlinks=true, % false: boxed links; true: colored links
	linkcolor=green,  % color of internal links
	citecolor=green,  % color of links to bibliography
	filecolor=green,  % color of file links
	urlcolor=green,
}
\renewcommand{\passagem}[1]{\ifglshasparent{\glsentryparent{idx.#1}}{\glsxtrusefield{\glsentryparent{\glsentryparent{idx.#1}}}{useri}, }{}\glsxtrusefield{\glsentryparent{idx.#1}}{useri}, \gls{idx.#1}\ifglshasfield{useri}{idx.#1}{ =~\hyperref[corp:#1]{C\glsentryuseri{idx.#1}}}{}}
\newcommand{\passagemb}[1]{\ifglshasparent{\glsentryparent{idx.#1}}{\glsxtrusefield{\glsentryparent{\glsentryparent{idx.#1}}}{userii},
  }{}\glsxtrusefield{\glsentryparent{idx.#1}}{userii}, \gls{idx.#1}\ifglshasfield{useri}{idx.#1}{ =~\hyperref[corp:#1]{C\glsentryuseri{idx.#1}}}{}}
\newcommand{\authwork}[1]{\glsxtrusefield{\glsentryparent{#1}}{useri}, \glsxtrshort{#1}}
\newcommand{\passagemc}[1]{{\glsxtrusefield{\glsentryparent{\glsentryparent{idx.#1}}}{userii}
(\glsxtrusefield{\glsentryparent{idx.#1}}{userii}, \gls{idx.#1})}}


\setparaindent{0em}%
\setbeforeparaskip{0.25em}%
\setafterparaskip{-1em}%
\setlength{\footmarkwidth}{0.5em}
\setlength{\footmarksep}{0em}
\setlength{\footparindent}{0em}
\footmarkstyle{\textsuperscript{#1}\hspace{0.5em}}


\newcommand\NumToNameMasc[1]{%
\ifcase#1\relax % case 0
\or Erster\or Zweiter\or Dritter%
\else Not implemented\fi}
\newcommand\NumToNameNeut[1]{%
\ifcase#1\relax % case 0
\or Erstes\or Zweites\or Drittes%
\else Not implemented\fi}



% Book -> Teil
\nobookblankpage%
\renewcommand*{\beforebookskip}{}
\renewcommand{\midbookskip}{\par}
\renewcommand{\afterbookskip}{\bigskip}
\renewcommand{\bookpageend}{%
\afterbookskip%
}
\renewcommand\printbooknum{%
\par\booknamefont\enspace%
\NumToNameMasc{\arabic{book}}\space\bookname%
\/\enspace}
\setlocalecaption{german}{book}{Teil}
\renewcommand\booknamenum{}
\renewcommand\printbookname{}
\renewcommand{\booknamefont}{\LARGE\scshape}
\renewcommand{\booknumfont}{\LARGE\scshape}
\renewcommand{\booktitlefont}{\Huge\bfseries\scshape}
% Part -> Abschnitt
\makeatletter
\renewcommand{\@setuppart}{%
  \if@twocolumn
    \onecolumn
    \@tempswatrue
  \else
    \@tempswafalse
  \fi
  \beforepartskip}
\makeatother
\nopartblankpage%
\renewcommand*{\beforepartskip}{}
\renewcommand{\midpartskip}{\par}
\renewcommand{\afterpartskip}{\bigskip}
\renewcommand{\partpageend}{%
\afterpartskip%
}
\renewcommand\printpartnum{%
\par\partnamefont\enspace%
\NumToNameMasc{\arabic{part}}\space\partname%
\/\enspace}
\setlocalecaption{german}{part}{Abschnitt}
\renewcommand\partnamenum{}
\renewcommand\printpartname{}
\renewcommand{\partnamefont}{\Large\scshape}
\renewcommand{\partnumfont}{\Large\scshape}
\renewcommand{\parttitlefont}{\LARGE\bfseries\scshape}

% Chapter
\newcommand\chap[1]{%
	\chapter*[#1]{#1}%
	\addcontentsline{toc}{chapter}{#1}}
\renewcommand{\chaptitlefont}{\centering\Large\bfseries\scshape}
\renewcommand{\chapnamefont}{\centering\large\scshape}
\renewcommand{\chapnumfont}{\centering\large\scshape}
\renewcommand{\clearforchapter}{}
\renewcommand{\afterchapternum}{\par\midchapskip}
% \chapterstyle{hangnum}
\setlength{\beforechapskip}{2em}
\setlength{\afterchapskip}{1em}
\renewcommand{\afterchaptertitle}{\par\vskip \afterchapskip}
\renewcommand\printchapternum{%
\par\chapnamefont\enspace%
\ifanappendix%
\appendixname\space\thechapter%
\else%
\NumToNameMasc{\thechapter}\space\chaptername%
\fi%
\/\enspace}
\renewcommand*{\chaptername}{Abschnitt}
\renewcommand\chapternamenum{}
\renewcommand\printchaptername{}

% Section
\renewcommand{\secheadstyle}{\centering\bfseries}
\setsecnumdepth{subparagraph}
\renewcommand{\thesection}{\S\arabic{section}}
% \setsechook{\setsecnumformat{\csname the#1\endcsname.\quad}}
\setsechook{\setsecnumformat{\csname the##1\endcsname.\space}}
\newcommand{\secref}[1]{\ref*{#1}}

% Paragraph
\renewcommand{\theparagraph}{\arabic{paragraph}}
\renewcommand{\paragraphautorefname}{\S\arabic{section}.\arabic{paragraph}}
\setparahook{\setsecnumformat{\csname the##1\endcsname.\space}}
\newcommand{\pararef}[2]{\hyperref[#2]{\ref*{#1}.\ref*{#2}}}
\renewcommand{\thesubparagraph}{Anmerk. \arabic{subparagraph}}

% ToC
\settocdepth{section}

\begin{document}



\tableofcontents
\clearpage

\chapter*{Abkürzungen}
\glsfindwidesttoplevelname%
\printunsrtglossary[
	type=authwork,
	nonumberlist=true,
	style=mcoltree
]
\printunsrtglossary[
	type=linguas,
	nonumberlist=true,
	style=mcoltree
]

\book{Elementarlehre}


\input{1.tex}


\clearpage
\chap{Index}
\glsfindwidesttoplevelname%
\printunsrtglossary[
	type=passagens,
	style=bookindex,
	title={Index Locorum},
]
\glsfindwidesttoplevelname%
\printunsrtglossary[
	type=linguascit,
	style=bookindex,
	title={Index Linguarum},
]

\end{document}
